import{r as l,t as f,j as s}from"./index-gVXWcna_.js";import{b as P,u as y,B as u}from"./useLogin-BtHzT5Xv.js";import{b as w,u as F,S as L,D as N,C as b,a as C}from"./SideBarWrapper-zuvVVbwi.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q=P("ChevronLeft",S),T=function(){const i=y(r=>r.setFrom),t=l.useRef(!1),{data:e,isLoading:x,error:m}=w(),n=(e==null?void 0:e.resultIds)??[],{data:a,isLoading:c,error:g}=F({queryKey:["fetchDogs",n],queryFn:()=>C(n),enabled:n.length>0});l.useEffect(()=>{t.current&&!c&&a&&(window.scrollTo({top:0,behavior:"smooth"}),t.current=!1)},[c,a]);const p=()=>{if(e!=null&&e.next){const o=new URLSearchParams(e.next).get("from");o&&(t.current=!0,i(o))}},h=()=>{if(e!=null&&e.prev){const o=new URLSearchParams(e.prev).get("from");t.current=!0,i(o||"")}},v=()=>{t.current=!0,i("")},d=x||c,j=!(e!=null&&e.prev);return l.useEffect(()=>{g&&f.error("Failed to load dogs",{description:"Please try again or check your connection"}),m&&f.error("Failed to load search data",{description:"Please try again"})},[g,m]),s.jsxs(L,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 w-full",children:a?a.map(r=>s.jsx(N,{dog:r},r.id)):[...Array(24)].map((r,o)=>s.jsx("div",{className:"aspect-square rounded-xl bg-muted/50 animate-pulse"},o))}),e&&s.jsxs("div",{className:"flex justify-between items-center mt-8 w-full",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",n.length," of ",e.total," dogs"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(u,{variant:"outline",size:"sm",onClick:h,disabled:!e.prev||d,children:[s.jsx(q,{className:"h-4 w-4 mr-1"})," Previous"]}),!j&&s.jsx(u,{variant:"outline",size:"sm",onClick:v,disabled:d,children:"First Page"}),s.jsxs(u,{variant:"outline",size:"sm",onClick:p,disabled:!e.next||d,children:["Next ",s.jsx(b,{className:"h-4 w-4 ml-1"})]})]})]})]})};export{T as component};
