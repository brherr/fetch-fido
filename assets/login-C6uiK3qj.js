import{j as F,R as B,r as lr,u as Dr,a as Er}from"./index-gVXWcna_.js";import{c as Le,P as Sr,a as kr,u as Ne,B as Nr,z as De,D as jr}from"./useLogin-BtHzT5Xv.js";function Ke({className:e,type:s,...r}){return F.jsx("input",{type:s,"data-slot":"input",className:Le("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var fe=e=>e.type==="checkbox",te=e=>e instanceof Date,T=e=>e==null;const or=e=>typeof e=="object";var w=e=>!T(e)&&!Array.isArray(e)&&or(e)&&!te(e),Lr=e=>w(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Or=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tr=(e,s)=>e.has(Or(s)),Ur=e=>{const s=e.constructor&&e.constructor.prototype;return w(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let s;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Oe&&(e instanceof Blob||i))&&(r||w(e)))if(s=r?[]:{},!r&&!Ur(e))s=e;else for(const o in e)e.hasOwnProperty(o)&&(s[o]=P(e[o]));else return e;return s}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,y=(e,s,r)=>{if(!s||!w(e))return r;const i=Fe(s.split(/[,[\].]+?/)).reduce((o,l)=>T(o)?o:o[l],e);return D(i)||i===e?D(e[s])?r:e[s]:i},$=e=>typeof e=="boolean",Te=e=>/^\w*$/.test(e),ur=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,s,r)=>{let i=-1;const o=Te(s)?[s]:ur(s),l=o.length,c=l-1;for(;++i<l;){const g=o[i];let p=r;if(i!==c){const E=e[g];p=w(E)||Array.isArray(E)?E:isNaN(+o[i+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=p,e=e[g]}return e};const Je={BLUR:"blur",FOCUS_OUT:"focusout"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var Cr=(e,s,r,i=!0)=>{const o={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return s._proxyFormState[c]!==q.all&&(s._proxyFormState[c]=!i||q.all),e[c]}});return o},U=e=>w(e)&&!Object.keys(e).length,Rr=(e,s,r,i)=>{r(e);const{name:o,...l}=e;return U(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(c=>s[c]===q.all)},ve=e=>Array.isArray(e)?e:[e];function Mr(e){const s=B.useRef(e);s.current=e,B.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",Pr=(e,s,r,i,o)=>H(e)?(i&&s.watch.add(e),y(r,e,o)):Array.isArray(e)?e.map(l=>(i&&s.watch.add(l),y(r,l))):(i&&(s.watchAll=!0),r),cr=(e,s,r,i,o)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},Ye=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),Qe=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const de=(e,s,r,i)=>{for(const o of r||Object.keys(e)){const l=y(e,o);if(l){const{_f:c,...g}=l;if(c){if(c.refs&&c.refs[0]&&s(c.refs[0],o)&&!i)return!0;if(c.ref&&s(c.ref,c.name)&&!i)return!0;if(de(g,s))break}else if(w(g)&&de(g,s))break}}};var Br=(e,s,r)=>{const i=ve(y(e,r));return V(i,"root",s[r]),V(e,r,i),e},Ue=e=>e.type==="file",W=e=>typeof e=="function",be=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},me=e=>H(e),Ce=e=>e.type==="radio",xe=e=>e instanceof RegExp;const Xe={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var dr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Xe}return Xe};const Ge={isValid:!1,value:null};var fr=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Ge):Ge;function er(e,s,r="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||$(e)&&!e)return{type:r,message:me(e)?e:"",ref:s}}var ae=e=>w(e)&&!xe(e)?e:{value:e,message:""},rr=async(e,s,r,i,o,l)=>{const{ref:c,refs:g,required:p,maxLength:E,minLength:A,min:v,max:z,pattern:ye,validate:K,name:C,valueAsNumber:J,mount:Z}=e._f,x=y(r,C);if(!Z||s.has(C))return{};const Y=g?g[0]:c,Q=b=>{o&&Y.reportValidity&&(Y.setCustomValidity($(b)?"":b||""),Y.reportValidity())},S={},se=Ce(c),ge=fe(c),re=se||ge,ie=(J||Ue(c))&&D(c.value)&&D(x)||be(c)&&c.value===""||x===""||Array.isArray(x)&&!x.length,R=cr.bind(null,C,i,S),he=(b,_,k,O=X.maxLength,I=X.minLength)=>{const M=b?_:k;S[C]={type:b?O:I,message:M,ref:c,...R(b?O:I,M)}};if(l?!Array.isArray(x)||!x.length:p&&(!re&&(ie||T(x))||$(x)&&!x||ge&&!dr(g).isValid||se&&!fr(g).isValid)){const{value:b,message:_}=me(p)?{value:!!p,message:p}:ae(p);if(b&&(S[C]={type:X.required,message:_,ref:Y,...R(X.required,_)},!i))return Q(_),S}if(!ie&&(!T(v)||!T(z))){let b,_;const k=ae(z),O=ae(v);if(!T(x)&&!isNaN(x)){const I=c.valueAsNumber||x&&+x;T(k.value)||(b=I>k.value),T(O.value)||(_=I<O.value)}else{const I=c.valueAsDate||new Date(x),M=oe=>new Date(new Date().toDateString()+" "+oe),ne=c.type=="time",le=c.type=="week";H(k.value)&&x&&(b=ne?M(x)>M(k.value):le?x>k.value:I>new Date(k.value)),H(O.value)&&x&&(_=ne?M(x)<M(O.value):le?x<O.value:I<new Date(O.value))}if((b||_)&&(he(!!b,k.message,O.message,X.max,X.min),!i))return Q(S[C].message),S}if((E||A)&&!ie&&(H(x)||l&&Array.isArray(x))){const b=ae(E),_=ae(A),k=!T(b.value)&&x.length>+b.value,O=!T(_.value)&&x.length<+_.value;if((k||O)&&(he(k,b.message,_.message),!i))return Q(S[C].message),S}if(ye&&!ie&&H(x)){const{value:b,message:_}=ae(ye);if(xe(b)&&!x.match(b)&&(S[C]={type:X.pattern,message:_,ref:c,...R(X.pattern,_)},!i))return Q(_),S}if(K){if(W(K)){const b=await K(x,r),_=er(b,Y);if(_&&(S[C]={..._,...R(X.validate,_.message)},!i))return Q(_.message),S}else if(w(K)){let b={};for(const _ in K){if(!U(b)&&!i)break;const k=er(await K[_](x,r),Y,_);k&&(b={...k,...R(_,k.message)},Q(k.message),i&&(S[C]=b))}if(!U(b)&&(S[C]={ref:Y,...b},!i))return S}}return Q(!0),S};function Ir(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=D(e)?i++:e[s[i++]];return e}function qr(e){for(const s in e)if(e.hasOwnProperty(s)&&!D(e[s]))return!1;return!0}function N(e,s){const r=Array.isArray(s)?s:Te(s)?[s]:ur(s),i=r.length===1?e:Ir(e,r),o=r.length-1,l=r[o];return i&&delete i[l],o!==0&&(w(i)&&U(i)||Array.isArray(i)&&qr(i))&&N(e,r.slice(0,-1)),e}var Ee=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},je=e=>T(e)||!or(e);function ee(e,s){if(je(e)||je(s))return e===s;if(te(e)&&te(s))return e.getTime()===s.getTime();const r=Object.keys(e),i=Object.keys(s);if(r.length!==i.length)return!1;for(const o of r){const l=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=s[o];if(te(l)&&te(c)||w(l)&&w(c)||Array.isArray(l)&&Array.isArray(c)?!ee(l,c):l!==c)return!1}}return!0}var yr=e=>e.type==="select-multiple",$r=e=>Ce(e)||fe(e),Se=e=>be(e)&&e.isConnected,gr=e=>{for(const s in e)if(W(e[s]))return!0;return!1};function _e(e,s={}){const r=Array.isArray(e);if(w(e)||r)for(const i in e)Array.isArray(e[i])||w(e[i])&&!gr(e[i])?(s[i]=Array.isArray(e[i])?[]:{},_e(e[i],s[i])):T(e[i])||(s[i]=!0);return s}function hr(e,s,r){const i=Array.isArray(e);if(w(e)||i)for(const o in e)Array.isArray(e[o])||w(e[o])&&!gr(e[o])?D(s)||je(r[o])?r[o]=Array.isArray(e[o])?_e(e[o],[]):{..._e(e[o])}:hr(e[o],T(s)?{}:s[o],r[o]):r[o]=!ee(e[o],s[o]);return r}var ue=(e,s)=>hr(e,s,_e(s)),vr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>D(e)?e:s?e===""?NaN:e&&+e:r&&H(e)?new Date(e):i?i(e):e;function ke(e){const s=e.ref;return Ue(s)?s.files:Ce(s)?fr(e.refs).value:yr(s)?[...s.selectedOptions].map(({value:r})=>r):fe(s)?dr(e.refs).value:vr(D(s.value)?e.ref.value:s.value,e)}var Wr=(e,s,r,i)=>{const o={};for(const l of e){const c=y(s,l);c&&V(o,l,c._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},ce=e=>D(e)?e:xe(e)?e.source:w(e)?xe(e.value)?e.value.source:e.value:e;const tr="AsyncFunction";var Hr=e=>!!e&&!!e.validate&&!!(W(e.validate)&&e.validate.constructor.name===tr||w(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===tr)),zr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function sr(e,s,r){const i=y(e,r);if(i||Te(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=y(s,l),g=y(e,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(g&&g.type)return{name:l,error:g};o.pop()}return{name:r}}var Kr=(e,s,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(s||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,Jr=(e,s)=>!Fe(y(e,s)).length&&N(e,s);const Yr={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Qr(e={}){let s={...Yr,...e},r={submitCount:0,isDirty:!1,isLoading:W(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},o=w(s.defaultValues)||w(s.values)?P(s.defaultValues||s.values)||{}:{},l=s.shouldUnregister?{}:P(o),c={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,E=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Ee(),array:Ee(),state:Ee()},z=Ye(s.mode),ye=Ye(s.reValidateMode),K=s.criteriaMode===q.all,C=t=>a=>{clearTimeout(E),E=setTimeout(t,a)},J=async t=>{if(!s.disabled&&(A.isValid||t)){const a=s.resolver?U((await re()).errors):await R(i,!0);a!==r.isValid&&v.state.next({isValid:a})}},Z=(t,a)=>{!s.disabled&&(A.isValidating||A.validatingFields)&&((t||Array.from(g.mount)).forEach(n=>{n&&(a?V(r.validatingFields,n,a):N(r.validatingFields,n))}),v.state.next({validatingFields:r.validatingFields,isValidating:!U(r.validatingFields)}))},x=(t,a=[],n,f,d=!0,u=!0)=>{if(f&&n&&!s.disabled){if(c.action=!0,u&&Array.isArray(y(i,t))){const h=n(y(i,t),f.argA,f.argB);d&&V(i,t,h)}if(u&&Array.isArray(y(r.errors,t))){const h=n(y(r.errors,t),f.argA,f.argB);d&&V(r.errors,t,h),Jr(r.errors,t)}if(A.touchedFields&&u&&Array.isArray(y(r.touchedFields,t))){const h=n(y(r.touchedFields,t),f.argA,f.argB);d&&V(r.touchedFields,t,h)}A.dirtyFields&&(r.dirtyFields=ue(o,l)),v.state.next({name:t,isDirty:b(t,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(l,t,a)},Y=(t,a)=>{V(r.errors,t,a),v.state.next({errors:r.errors})},Q=t=>{r.errors=t,v.state.next({errors:r.errors,isValid:!1})},S=(t,a,n,f)=>{const d=y(i,t);if(d){const u=y(l,t,D(n)?y(o,t):n);D(u)||f&&f.defaultChecked||a?V(l,t,a?u:ke(d._f)):O(t,u),c.mount&&J()}},se=(t,a,n,f,d)=>{let u=!1,h=!1;const m={name:t};if(!s.disabled){const j=!!(y(i,t)&&y(i,t)._f&&y(i,t)._f.disabled);if(!n||f){A.isDirty&&(h=r.isDirty,r.isDirty=m.isDirty=b(),u=h!==m.isDirty);const L=j||ee(y(o,t),a);h=!!(!j&&y(r.dirtyFields,t)),L||j?N(r.dirtyFields,t):V(r.dirtyFields,t,!0),m.dirtyFields=r.dirtyFields,u=u||A.dirtyFields&&h!==!L}if(n){const L=y(r.touchedFields,t);L||(V(r.touchedFields,t,n),m.touchedFields=r.touchedFields,u=u||A.touchedFields&&L!==n)}u&&d&&v.state.next(m)}return u?m:{}},ge=(t,a,n,f)=>{const d=y(r.errors,t),u=A.isValid&&$(a)&&r.isValid!==a;if(s.delayError&&n?(p=C(()=>Y(t,n)),p(s.delayError)):(clearTimeout(E),p=null,n?V(r.errors,t,n):N(r.errors,t)),(n?!ee(d,n):d)||!U(f)||u){const h={...f,...u&&$(a)?{isValid:a}:{},errors:r.errors,name:t};r={...r,...h},v.state.next(h)}},re=async t=>{Z(t,!0);const a=await s.resolver(l,s.context,Wr(t||g.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return Z(t),a},ie=async t=>{const{errors:a}=await re(t);if(t)for(const n of t){const f=y(a,n);f?V(r.errors,n,f):N(r.errors,n)}else r.errors=a;return a},R=async(t,a,n={valid:!0})=>{for(const f in t){const d=t[f];if(d){const{_f:u,...h}=d;if(u){const m=g.array.has(u.name),j=d._f&&Hr(d._f);j&&A.validatingFields&&Z([f],!0);const L=await rr(d,g.disabled,l,K,s.shouldUseNativeValidation&&!a,m);if(j&&A.validatingFields&&Z([f]),L[u.name]&&(n.valid=!1,a))break;!a&&(y(L,u.name)?m?Br(r.errors,L,u.name):V(r.errors,u.name,L[u.name]):N(r.errors,u.name))}!U(h)&&await R(h,a,n)}}return n.valid},he=()=>{for(const t of g.unMount){const a=y(i,t);a&&(a._f.refs?a._f.refs.every(n=>!Se(n)):!Se(a._f.ref))&&Ve(t)}g.unMount=new Set},b=(t,a)=>!s.disabled&&(t&&a&&V(l,t,a),!ee(Re(),o)),_=(t,a,n)=>Pr(t,g,{...c.mount?l:D(a)?o:H(t)?{[t]:a}:a},n,a),k=t=>Fe(y(c.mount?l:o,t,s.shouldUnregister?y(o,t,[]):[])),O=(t,a,n={})=>{const f=y(i,t);let d=a;if(f){const u=f._f;u&&(!u.disabled&&V(l,t,vr(a,u)),d=be(u.ref)&&T(a)?"":a,yr(u.ref)?[...u.ref.options].forEach(h=>h.selected=d.includes(h.value)):u.refs?fe(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(m=>m===h.value):d===h.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(h=>h.checked=h.value===d):Ue(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||v.values.next({name:t,values:{...l}})))}(n.shouldDirty||n.shouldTouch)&&se(t,d,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&oe(t)},I=(t,a,n)=>{for(const f in a){const d=a[f],u=`${t}.${f}`,h=y(i,u);(g.array.has(t)||w(d)||h&&!h._f)&&!te(d)?I(u,d,n):O(u,d,n)}},M=(t,a,n={})=>{const f=y(i,t),d=g.array.has(t),u=P(a);V(l,t,u),d?(v.array.next({name:t,values:{...l}}),(A.isDirty||A.dirtyFields)&&n.shouldDirty&&v.state.next({name:t,dirtyFields:ue(o,l),isDirty:b(t,u)})):f&&!f._f&&!T(u)?I(t,u,n):O(t,u,n),Qe(t,g)&&v.state.next({...r}),v.values.next({name:c.mount?t:void 0,values:{...l}})},ne=async t=>{c.mount=!0;const a=t.target;let n=a.name,f=!0;const d=y(i,n),u=()=>a.type?ke(d._f):Lr(t),h=m=>{f=Number.isNaN(m)||te(m)&&isNaN(m.getTime())||ee(m,y(l,n,m))};if(d){let m,j;const L=u(),G=t.type===Je.BLUR||t.type===Je.FOCUS_OUT,Ar=!zr(d._f)&&!s.resolver&&!y(r.errors,n)&&!d._f.deps||Kr(G,y(r.touchedFields,n),r.isSubmitted,ye,z),pe=Qe(n,g,G);V(l,n,L),G?(d._f.onBlur&&d._f.onBlur(t),p&&p(0)):d._f.onChange&&d._f.onChange(t);const we=se(n,L,G,!1),pr=!U(we)||pe;if(!G&&v.values.next({name:n,type:t.type,values:{...l}}),Ar)return A.isValid&&(s.mode==="onBlur"&&G?J():G||J()),pr&&v.state.next({name:n,...pe?{}:we});if(!G&&pe&&v.state.next({...r}),s.resolver){const{errors:He}=await re([n]);if(h(L),f){const wr=sr(r.errors,i,n),ze=sr(He,i,wr.name||n);m=ze.error,n=ze.name,j=U(He)}}else Z([n],!0),m=(await rr(d,g.disabled,l,K,s.shouldUseNativeValidation))[n],Z([n]),h(L),f&&(m?j=!1:A.isValid&&(j=await R(i,!0)));f&&(d._f.deps&&oe(d._f.deps),ge(n,j,m,we))}},le=(t,a)=>{if(y(r.errors,a)&&t.focus)return t.focus(),1},oe=async(t,a={})=>{let n,f;const d=ve(t);if(s.resolver){const u=await ie(D(t)?t:d);n=U(u),f=t?!d.some(h=>y(u,h)):n}else t?(f=(await Promise.all(d.map(async u=>{const h=y(i,u);return await R(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!f&&!r.isValid)&&J()):f=n=await R(i);return v.state.next({...!H(t)||A.isValid&&n!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:n}:{},errors:r.errors}),a.shouldFocus&&!f&&de(i,le,t?d:g.mount),f},Re=t=>{const a={...c.mount?l:o};return D(t)?a:H(t)?y(a,t):t.map(n=>y(a,n))},Me=(t,a)=>({invalid:!!y((a||r).errors,t),isDirty:!!y((a||r).dirtyFields,t),error:y((a||r).errors,t),isValidating:!!y(r.validatingFields,t),isTouched:!!y((a||r).touchedFields,t)}),xr=t=>{t&&ve(t).forEach(a=>N(r.errors,a)),v.state.next({errors:t?r.errors:{}})},Pe=(t,a,n)=>{const f=(y(i,t,{_f:{}})._f||{}).ref,d=y(r.errors,t)||{},{ref:u,message:h,type:m,...j}=d;V(r.errors,t,{...j,...a,ref:f}),v.state.next({name:t,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&f&&f.focus&&f.focus()},_r=(t,a)=>W(t)?v.values.subscribe({next:n=>t(_(void 0,a),n)}):_(t,a,!0),Ve=(t,a={})=>{for(const n of t?ve(t):g.mount)g.mount.delete(n),g.array.delete(n),a.keepValue||(N(i,n),N(l,n)),!a.keepError&&N(r.errors,n),!a.keepDirty&&N(r.dirtyFields,n),!a.keepTouched&&N(r.touchedFields,n),!a.keepIsValidating&&N(r.validatingFields,n),!s.shouldUnregister&&!a.keepDefaultValue&&N(o,n);v.values.next({values:{...l}}),v.state.next({...r,...a.keepDirty?{isDirty:b()}:{}}),!a.keepIsValid&&J()},Be=({disabled:t,name:a,field:n,fields:f})=>{($(t)&&c.mount||t||g.disabled.has(a))&&(t?g.disabled.add(a):g.disabled.delete(a),se(a,ke(n?n._f:y(f,a)._f),!1,!1,!0))},Ae=(t,a={})=>{let n=y(i,t);const f=$(a.disabled)||$(s.disabled);return V(i,t,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:t}},name:t,mount:!0,...a}}),g.mount.add(t),n?Be({field:n,disabled:$(a.disabled)?a.disabled:s.disabled,name:t}):S(t,!0,a.value),{...f?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:t,onChange:ne,onBlur:ne,ref:d=>{if(d){Ae(t,a),n=y(i,t);const u=D(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=$r(u),m=n._f.refs||[];if(h?m.find(j=>j===u):u===n._f.ref)return;V(i,t,{_f:{...n._f,...h?{refs:[...m.filter(Se),u,...Array.isArray(y(o,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),S(t,!1,void 0,u)}else n=y(i,t,{}),n._f&&(n._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(Tr(g.array,t)&&c.action)&&g.unMount.add(t)}}},Ie=()=>s.shouldFocusError&&de(i,le,g.mount),Fr=t=>{$(t)&&(v.state.next({disabled:t}),de(i,(a,n)=>{const f=y(i,n);f&&(a.disabled=f._f.disabled||t,Array.isArray(f._f.refs)&&f._f.refs.forEach(d=>{d.disabled=f._f.disabled||t}))},0,!1))},qe=(t,a)=>async n=>{let f;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let d=P(l);if(g.disabled.size)for(const u of g.disabled)V(d,u,void 0);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:h}=await re();r.errors=u,d=h}else await R(i);if(N(r.errors,"root"),U(r.errors)){v.state.next({errors:{}});try{await t(d,n)}catch(u){f=u}}else a&&await a({...r.errors},n),Ie(),setTimeout(Ie);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},Vr=(t,a={})=>{y(i,t)&&(D(a.defaultValue)?M(t,P(y(o,t))):(M(t,a.defaultValue),V(o,t,P(a.defaultValue))),a.keepTouched||N(r.touchedFields,t),a.keepDirty||(N(r.dirtyFields,t),r.isDirty=a.defaultValue?b(t,P(y(o,t))):b()),a.keepError||(N(r.errors,t),A.isValid&&J()),v.state.next({...r}))},$e=(t,a={})=>{const n=t?P(t):o,f=P(n),d=U(t),u=d?o:f;if(a.keepDefaultValues||(o=n),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...g.mount,...Object.keys(ue(o,l))]);for(const m of Array.from(h))y(r.dirtyFields,m)?V(u,m,y(l,m)):M(m,y(u,m))}else{if(Oe&&D(t))for(const h of g.mount){const m=y(i,h);if(m&&m._f){const j=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(be(j)){const L=j.closest("form");if(L){L.reset();break}}}}i={}}l=s.shouldUnregister?a.keepDefaultValues?P(o):{}:P(u),v.array.next({values:{...u}}),v.values.next({values:{...u}})}g={mount:a.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!s.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:d?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ee(t,o)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&l?ue(o,l):r.dirtyFields:a.keepDefaultValues&&t?ue(o,t):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(t,a)=>$e(W(t)?t(l):t,a);return{control:{register:Ae,unregister:Ve,getFieldState:Me,handleSubmit:qe,setError:Pe,_executeSchema:re,_getWatch:_,_getDirty:b,_updateValid:J,_removeUnmounted:he,_updateFieldArray:x,_updateDisabledField:Be,_getFieldArray:k,_reset:$e,_resetDefaultValues:()=>W(s.defaultValues)&&s.defaultValues().then(t=>{We(t,s.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:Fr,_subjects:v,_proxyFormState:A,_setErrors:Q,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(t){c=t},get _defaultValues(){return o},get _names(){return g},set _names(t){g=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:oe,register:Ae,handleSubmit:qe,watch:_r,setValue:M,getValues:Re,reset:We,resetField:Vr,clearErrors:xr,unregister:Ve,setError:Pe,setFocus:(t,a={})=>{const n=y(i,t),f=n&&n._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),a.shouldSelect&&W(d.select)&&d.select())}},getFieldState:Me}}function Xr(e={}){const s=B.useRef(void 0),r=B.useRef(void 0),[i,o]=B.useState({isDirty:!1,isValidating:!1,isLoading:W(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:W(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Qr(e),formState:i});const l=s.current.control;return l._options=e,Mr({subject:l._subjects.state,next:c=>{Rr(c,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),B.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),B.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),B.useEffect(()=>{e.values&&!ee(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,o(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),B.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),B.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),B.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),s.current.formState=Cr(i,l),s.current}const ir=(e,s,r)=>{if(e&&"reportValidity"in e){const i=y(r,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},mr=(e,s)=>{for(const r in s.fields){const i=s.fields[r];i&&i.ref&&"reportValidity"in i.ref?ir(i.ref,r,e):i&&i.refs&&i.refs.forEach(o=>ir(o,r,e))}},Zr=(e,s)=>{s.shouldUseNativeValidation&&mr(e,s);const r={};for(const i in e){const o=y(s.fields,i),l=Object.assign(e[i]||{},{ref:o&&o.ref});if(Gr(s.names||Object.keys(e),i)){const c=Object.assign({},y(r,i));V(c,"root",l),V(r,i,c)}else V(r,i,l)}return r},Gr=(e,s)=>{const r=ar(s);return e.some(i=>ar(i).match(`^${r}\\.\\d+`))};function ar(e){return e.replace(/\]|\[/g,"")}function et(e,s){for(var r={};e.length;){var i=e[0],o=i.code,l=i.message,c=i.path.join(".");if(!r[c])if("unionErrors"in i){var g=i.unionErrors[0].errors[0];r[c]={message:g.message,type:g.code}}else r[c]={message:l,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(A){return A.errors.forEach(function(v){return e.push(v)})}),s){var p=r[c].types,E=p&&p[i.code];r[c]=cr(c,s,r,o,E?[].concat(E,i.message):i.message)}e.shift()}return r}function rt(e,s,r){return r===void 0&&(r={}),function(i,o,l){try{return Promise.resolve(function(c,g){try{var p=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(E){return l.shouldUseNativeValidation&&mr({},l),{errors:{},values:r.raw?Object.assign({},i):E}})}catch(E){return g(E)}return p&&p.then?p.then(void 0,g):p}(0,function(c){if(function(g){return Array.isArray(g==null?void 0:g.errors)}(c))return{values:{},errors:Zr(et(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}}var tt="Label",br=lr.forwardRef((e,s)=>F.jsx(Sr.label,{...e,ref:s,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));br.displayName=tt;var st=br;function nr({className:e,...s}){return F.jsx(st,{"data-slot":"label",className:Le("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const it=De.object({name:De.string().min(1,"Name is required"),email:De.string().email("Invalid email format")});function at({className:e,...s}){const{register:r,handleSubmit:i,reset:o,formState:{errors:l}}=Xr({resolver:rt(it)}),c=kr(),g=Dr(),p=Er(),E=Ne(v=>v.setUser),A=v=>{c.mutate(v,{onSuccess:()=>{const z={...v};E(z),p.update({context:{user:z}}),g({to:"/"})},onError:z=>{console.error("login failed",z),o({name:"",email:""})}})};return F.jsxs("form",{className:Le("flex flex-col gap-6",e),onSubmit:i(A),...s,children:[F.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[F.jsx("h1",{className:"text-2xl font-bold",children:"Login to your account"}),F.jsx("p",{className:"text-muted-foreground text-sm text-balance",children:"Enter your name and email below to login"})]}),F.jsxs("div",{className:"grid gap-6",children:[F.jsxs("div",{className:"grid gap-3",children:[F.jsx("div",{className:"flex items-center",children:F.jsx(nr,{htmlFor:"name",children:"Name"})}),F.jsx(Ke,{id:"name",type:"name",placeholder:"John Doe",...r("name")}),l.name&&F.jsx("p",{className:"text-red-500 text-sm",children:l.name.message})]}),F.jsxs("div",{className:"grid gap-3",children:[F.jsx(nr,{htmlFor:"email",children:"Email"}),F.jsx(Ke,{id:"email",type:"email",placeholder:"me@example.com",...r("email")}),l.email&&F.jsx("p",{className:"text-red-500 text-sm",children:l.email.message})]}),F.jsx(Nr,{type:"submit",className:"w-full cursor-pointer",children:"Login"})]})]})}const nt="/fetch-fido/assets/dog-fetch-login-Dxl9x3EB.jpg",ft=function(){const s=Ne(i=>i.resetFilters),r=Ne(i=>i.clearFavorites);return lr.useEffect(()=>{s(),r()},[]),F.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[F.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[F.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:F.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[F.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:F.jsx(jr,{className:"size-4"})}),"FetchFido"]})}),F.jsx("div",{className:"flex flex-1 items-center justify-center",children:F.jsx("div",{className:"w-full max-w-xs",children:F.jsx(at,{})})})]}),F.jsx("div",{className:"relative hidden bg-muted lg:block",children:F.jsx("img",{src:nt,alt:"dog-fetching-image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})};export{ft as component};
